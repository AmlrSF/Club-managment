<main>
  <div class="head-title border-b-[1.5px] pb-8 border-[rgba(0,0,0,0.2)]">
    <div class="left">
      <h1>Foryou</h1>
      <ul class="breadcrumb">
        <li>
          <a href="#">Dashboard</a>
        </li>
        <li>/</li>
        <li>
          <a href="#">Posts</a>
        </li>
        <li>/</li>
        <li>
          <a class="active">post details</a>
        </li>
      </ul>
    </div>
  </div>
  <div class="bg-[#fff] mt-5 p-3 rounded-xl justify-between flex flex-col gap-3">
    

    <div class="post-image">
      <img
        [src]="post.imageUrl"
        alt="image"
        class="w-full h-[500px] rounded-xl object-cover"
      />
    </div>
    <div class="flex justify-between gap-2 items-center">
        <img
          class="w-8 h-8 rounded-full"
          [src]="
            post?.author?.profileImage
              ? post?.author?.profileImage
              : '../../assets/download.png'
          "
          alt="user photo"
        />
        <span
          class="cursor-pointer h-[25px] w-[25px] flex justify-center p-2 items-center rounded-full hover:bg-[#eee]"
        >
          <i class="fa-solid text-black fa-ellipsis-vertical"></i>
        </span>
      </div>
      <div class="post-content">
        <p class="hover:underline text-xl font-bold">
          {{ post.content }}
        </p>
        <p>Posted In {{ formatReadableDate(post.createdAt) }}</p>
      </div>
    <div class="flex items-center justify-between gap-2">
      <div class="cursor-pointer flex items-center rounded-xl bg-[#eee]">
        <span
          (click)="upVote(post._id)"
          class="rounded-s-xl hover:bg-[#1ddc6f3d] border-gray-500 p-2 flex items-center"
          [ngClass]="{ 'gap-2': post.upvotes.length > 0 }"
        >
          <i class="fa-solid hover:text-[#15ce5c] text-gray-500 fa-up-long"></i>
          <p class="hover:text-[#15ce5c] border-r-2 text-md font-bold">
            {{ post.upvotes.length > 0 ? post.upvotes.length : "" }}
          </p>
        </span>
        <span (click)="downVote(post._id)" class="p-2 hover:bg-[#d52b2014]">
          <i
            class="fa-solid fa-down-long text-gray-500 hover:text-[#c72017]"
          ></i>
        </span>
      </div>
      <div
        class="cursor-pointer h-[35px] w-[35px] flex justify-center p-2 items-center rounded-xl bg-[#eee]"
      >
        <i class="fa-solid text-gray-500 fa-comment"></i>
      </div>
      <div
        class="cursor-pointer h-[35px] w-[35px] flex justify-center p-2 items-center rounded-xl bg-[#eee]"
      >
        <i class="fa-solid text-gray-500 fa-bookmark"></i>
      </div>
      <div
        class="cursor-pointer h-[35px] w-[35px] flex justify-center p-2 items-center rounded-xl bg-[#eee]"
      >
        <i class="fa-solid text-gray-500 fa-share"></i>
      </div>
    </div>
  </div>
  <div class="bg-white mt-5 p-3 rounded-xl  shadow-md">
    <form [formGroup]="commentForm" (ngSubmit)="onSubmit()"
     >
        <label for="cont" class="block text-gray-700">Comment</label>
        <div class="mb-4 flex flex-col items-start">
        <textarea
          id="cont"
          formControlName="content"
          class="w-full p-2 border rounded-lg focus:outline-none focus:ring focus:ring-blue-500"
          rows="4"
          placeholder="Write your comment here..."
        ></textarea>
      </div>
      <button
        type="submit"
        class="bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600"
        [disabled]="commentForm.invalid"
      >
        Submit
      </button>
    </form>
  </div>
  
</main>
